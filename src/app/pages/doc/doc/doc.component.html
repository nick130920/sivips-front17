<div class="bg-gray-50 flex justify-center items-center w-full h-[calc(100vh-80px)] p-10">
    <div class="flex flex-col w-full h-full gap-8">
        <h2 class="text-xl flex items-center">
            <span class="icon-[solar--check-circle-bold] text-center w-7 h-7"></span>
            Documentos Requeridos
        </h2>
        <hr class="border-t-2 border-gray-250">
        <div class="rounded overflow-hidden border shadow-lg bg-white w-[200] h-full">
            <div class="bg-gray-800 font-bold text-xl mb-2 text-white h-12 px-4 py-2">Documentos</div>
            <div *ngIf="loading" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
                <div class="bg-white p-6 rounded shadow-lg">
                    <p class="text-lg font-semibold mb-4 text-gray-800">Cargando...</p>
                    <div class="flex justify-center">
                        <div class="w-16 h-16 border-4 border-gray-200 border-t-4 border-t-red-500 rounded-full animate-spin"></div>
                    </div>
                </div>
            </div>
            <form [formGroup]="docForm" (ngSubmit)="onSubmit()" class="mb-8">
                <div class="flex items-center mb-4 mt-3">
                    <div class="w-1/3 mr-4 px-10 ml-4">
                        <div class="relative z-0">
                            <input formControlName="requirementName" type="text" id="floating_standard" class="input-floating peer" placeholder=" " />
                            <label for="floating_standard" class="label-floating">Nombre:</label>
                        </div>
                        <div *ngIf="docForm.get('requirementName')?.invalid && (docForm.get('requirementName')?.touched || docForm.get('requirementName')?.dirty)">
                            <p class="mt-2 text-xs text-red-600 dark:text-red-400"><span class="font-medium">Oh!</span> Nombre es <strong>requerido</strong>.</p>
                        </div>
                    </div>
                    <div class="w-1/3 mr-4 relative">
                        <div class="select-dropdown">
                            <div class="flex items-center justify-between cursor-pointer" (click)="toggleDropdown()" (keyup.space)="toggleDropdown()" (keydown.enter)="toggleDropdown()" tabindex="0">
                                <span>Seleccionar Tipos de Producci√≥n</span>
                                <span [class.rotate-180]="dropdownOpen" class="icon-arrow-down"></span>
                            </div>                            
                            <div *ngIf="dropdownOpen" class="dropdown-content absolute mt-1 w-full bg-gray-300 border border-gray-200">
                                <label *ngFor="let type of productionTypes" class="flex items-center hover:bg-gray-200">
                                    <input type="checkbox" [value]="type" (change)="onCheckboxChange($event)" class="mr-2">
                                    <span>{{ type }}</span>
                                </label>
                            </div>
                        </div>
                        <div *ngIf="docForm.get('productionty')?.invalid && (docForm.get('productionty')?.touched || docForm.get('productionty')?.dirty)">
                            <span class="text-red-500 text-sm">Tipo de Material es requerido</span>
                        </div>
                    </div>
                    <div class="w-1/3 mr-4 flex items-center mt-3">
                        <label for="mandatory" class="block text-sm font-semibold text-primary-600">Obligatorio:</label>
                        <input type="checkbox" id="mandatory" formControlName="mandatory" class="ml-2 appearance-none h-5 w-5 border border-gray-300 rounded-md checked:bg-gray-800 checked:border-transparent focus:outline-none">
                    </div>
                    <button hlmBtn variant='default' class="items-center w-40 font-bold hover:border text-white mr-36 mt-3" type="submit">Agregar</button>
                </div>
            </form>
            <div class="overflow-y-auto h-[calc(60vh-150px)] items-center">
                <app-doctable [items]="visibleItems" (edit)="onEdit($event)" (delete)="onDelete($event)" (update)="upDateItem($event)"></app-doctable>
            </div>
        </div>
    </div>
</div>
